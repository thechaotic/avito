{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","images","pictureId","bigImages","show","info","comments","bigImageId","name","handleShow","bind","handleClose","handleGetIdImage","handleSendComments","handleChangeComments","handleChangeName","this","setState","e","target","value","axios","post","comment","headers","then","response","console","log","catch","error","element","fetch","result","json","data","className","map","key","id","onClick","alt","src","url","Modal","onHide","Header","closeButton","Body","el","moment","date","format","text","type","placeholder","onChange","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0a2ed05.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Modal from 'react-bootstrap/Modal';\nimport moment from 'moment'\n\nimport axios from 'axios';\n\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      images : [],\n      pictureId: 0,\n      bigImages: [],\n      show: false,\n      info: [],\n      comments: [],\n      bigImageId: 0,\n      name: [],\n      \n    }\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleGetIdImage = this.handleGetIdImage.bind(this);\n    this.handleSendComments = this.handleSendComments.bind(this);\n    this.handleChangeComments = this.handleChangeComments.bind(this);\n    this.handleChangeName = this.handleChangeName.bind(this);\n  }\n  handleClose() {\n\t\tthis.setState({ show: false });\n\t}\n\n\thandleShow() {\n\t\tthis.setState({ show: true });\n  }\n\n  handleChangeComments(e){\n    this.setState({\n      comments: e.target.value\n    })\n  }\n\n  handleChangeName(e){\n    this.setState({\n      name: e.target.value\n    })\n  }\n  handleSendComments(e){\n    axios.post('https://boiling-refuge-66454.herokuapp.com/images/'+this.state.bigImageId+'/comments', {\t \n      name: this.state.name, \n      comment: this.state.comments\n    }, {\n        headers: {\n            'Content-Type': 'application/json; charset=UTF-8'\n        }\n              })\n    .then(response => { \n      console.log(response)\n    })\n    .catch(error => {\n        console.log(error.response)\n    })\n\n  }\n\n  handleGetIdImage(element){\n    fetch('https://boiling-refuge-66454.herokuapp.com/images/'+element)\n    .then(result => result.json())\n    .then(data => {\n        this.setState({ bigImages: data,\n                        info: data.comments,\n                        bigImageId: element\n                      })\n        // console.log(this.state.bigImageId)\n    })\n  }\n\n  async componentDidMount(){\n    const url = \"https://boiling-refuge-66454.herokuapp.com/images\"\n    const response = await fetch(url)\n    const data = await response.json()\n    //  console.log(data)\n    this.setState({\n      images: data,  \n    })\n    // console.log(this.state.images); \n    }\n\n  render(){   \n    console.log(this.state.name)\n    return( \n      <div className=\"container\">\n        <header>\n          <div className=\"text-center\">\n            <h1> test app </h1> \n          </div>\n        </header>\n          <section>\n            <div className=\"row\">\n              <main className=\"col-md-12 col-lg-12 \">\n                <div className=\"row\">\n                  {this.state.images.map(element =>(\n                    <div className=\"col-md-4 my-lg-4 my-md-4 my-sm-4\" key={element.id}  onClick={this.handleShow}>\n                      <img  \n                        alt=\"preview\" \n                        className=\"img-thumbnail\" \n                        src={element.url}\n                        id={element.id}\n                        onClick={(e)=>this.handleGetIdImage(element.id)}\n                       />\n                    </div>\n                  ))}    \n                </div>   \n                <Modal show={this.state.show} onHide={this.handleClose}>\n                  <Modal.Header closeButton> \n                  </Modal.Header>\n                    <Modal.Body >\n                      <div className=\"container\">\n                        <div className=\"row\">  \n                          <div className=\"col-md-8 col-lg-8  bigimage\">\n                            <img\n                              className=\"img-fluid\"\n                              src={this.state.bigImages.url}\n                              alt=\"bigimage\"\n                            />  \n                          </div>\n                            {this.state.info.map(el=>(\n                              <div className=\"col-md-4 col-lg-4 coment\" key={el.id}>\n                                <p className=\"date\">{moment(el.date).format(\"DD.MM.YYYY\")}</p>\n                                <p className=\"comments\">{el.text}</p>\n                              </div>\n                            ))}\n                              <div className=\"col-md-8 col-lg-8  coment\">\n                                <input \n                                  type=\"text\" \n                                  className=\"col-md-12 col-lg-12 mt-4 rounded \" \n                                  placeholder=\"Ваше имя\" \n                                  value={this.state.name}\n                                  onChange={this.handleChangeName}\n                                />\n\n                                <input \n                                  type=\"text\" \n                                  className=\"col-md-12 col-lg-12 mt-4 rounded\" \n                                  placeholder=\"Ваш комментарий\" \n                                  value={this.state.comments}\n                                  onChange={this.handleChangeComments}\n                                />\n\n                                <button \n                                  className=\"col-md-12 col-lg-12 mt-4 rounded mybtn btn btn-primary \"\n                                  onClick={this.handleSendComments}\n                                  >Оставить комментарий\n                                </button>\n                              </div>\n                          </div>\n                        </div>\n                    </Modal.Body>\n\t\t\t\t        </Modal>\n              </main>\n            </div>\n                   \n          </section>  \n        <footer className='footer mt-auto py-6 bg-white text-dark text-center'>\n          <div className='container'>\n            <hr />\n              <p>© 2018-2019</p>   \n          </div>\n        </footer>\n      </div>\n      \n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}