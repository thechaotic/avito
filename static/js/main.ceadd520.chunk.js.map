{"version":3,"sources":["component/ImageList.js","component/ImageForm.js","App.js","index.js"],"names":["ImageList","className","this","props","imagesArray","map","element","key","id","onClick","Show","alt","src","url","e","handleGetIdImage","React","Component","ImageForm","bigImagesUrl","info","el","moment","date","format","text","type","placeholder","value","name","onChange","ChangeName","comments","ChangeComments","SendComments","App","state","images","pictureId","bigImages","show","bigImageId","handleShow","bind","handleClose","handleSendComments","handleChangeComments","handleChangeName","setState","target","axios","post","comment","headers","then","response","console","log","catch","error","fetch","result","json","data","offHide","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ceadd520.chunk.js","sourcesContent":["import React from 'react';\r\nclass ImageList extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        {this.props.imagesArray.map(element => (\r\n          <div className=\"col-md-4 my-lg-4 my-md-4 my-sm-4\" key={element.id} onClick={this.props.Show}>\r\n            <img\r\n              alt=\"preview\"\r\n              className=\"img-thumbnail\"\r\n              src={element.url}\r\n              id={element.id}\r\n              onClick={(e) => this.props.handleGetIdImage(element.id)}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default ImageList;","import React from 'react';\r\nimport moment from 'moment'\r\n\r\nclass ImageForm extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 col-lg-8  bigimage\">\r\n            <img\r\n              className=\"img-fluid\"\r\n              src={this.props.bigImagesUrl}\r\n              alt=\"bigimage\"\r\n            />\r\n          </div>\r\n          {this.props.info.map(el => (\r\n            <div className=\"col-md-4 col-lg-4 coment\" key={el.id}>\r\n              <p className=\"date\">{moment(el.date).format(\"DD.MM.YYYY\")}</p>\r\n              <p className=\"comments\">{el.text}</p>\r\n            </div>\r\n          ))}\r\n          <div className=\"col-md-8 col-lg-8  coment\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"col-md-12 col-lg-12 mt-4 rounded \"\r\n              placeholder=\"Ваше имя\"\r\n              value={this.props.name}\r\n              onChange={this.props.ChangeName}\r\n            />\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"col-md-12 col-lg-12 mt-4 rounded\"\r\n              placeholder=\"Ваш комментарий\"\r\n              value={this.props.comments}\r\n              onChange={this.props.ChangeComments}\r\n            />\r\n\r\n            <button\r\n              className=\"col-md-12 col-lg-12 mt-4 rounded mybtn btn btn-primary \"\r\n              onClick={this.props.SendComments}\r\n            >Оставить комментарий\r\n                                </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default ImageForm;","import React from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport ImageList from './component/ImageList';\nimport ImageForm from './component/ImageForm';\nimport { BrowserRouter, Route, Link, Router } from 'react-router-dom';\n// import createBrowserHistory from 'history/createBrowserHistory';\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      images: [],\n      pictureId: 0,\n      bigImages: [],\n      show: false,\n      info: [],\n      comments: [],\n      bigImageId: 0,\n      name: [],\n    }\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleGetIdImage = this.handleGetIdImage.bind(this);\n    this.handleSendComments = this.handleSendComments.bind(this);\n    this.handleChangeComments = this.handleChangeComments.bind(this);\n    this.handleChangeName = this.handleChangeName.bind(this);\n  }\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow() {\n    this.setState({ show: true });\n  }\n\n  handleChangeComments(e) {\n    this.setState({\n      comments: e.target.value\n    })\n  }\n\n  handleChangeName(e) {\n    this.setState({\n      name: e.target.value\n    })\n  }\n\n  handleSendComments(e) {\n    axios.post('https://boiling-refuge-66454.herokuapp.com/images/' + this.state.bigImageId + '/comments', {\n      name: this.state.name,\n      comment: this.state.comments\n    }, {\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    })\n      .then(response => {\n        console.log(response)\n      })\n      .catch(error => {\n        console.log(error.response)\n      })\n\n  }\n\n  handleGetIdImage(element) {\n    fetch('https://boiling-refuge-66454.herokuapp.com/images/' + element)\n      .then(result => result.json())\n      .then(data => {\n        this.setState({\n          bigImages: data,\n          info: data.comments,\n          bigImageId: element\n        })\n      })\n  }\n\n  async componentDidMount() {\n    const url = \"https://boiling-refuge-66454.herokuapp.com/images\"\n    const response = await fetch(url)\n    const data = await response.json()\n    //  console.log(data)\n    this.setState({\n      images: data,\n    })\n  }\n\n  render() {\n    // console.log(this.state.comments)\n    return (\n      \n      <div className=\"container\">\n        {/* <BrowserRouter>\n        <Route path=\"/\" render={()=><ImageList\n                    imagesArray={this.state.images}\n                    handleGetIdImage={this.handleGetIdImage}\n                    Show={this.handleShow}\n                  />} /> */}\n        \n        <header>\n          <div className=\"text-center\">\n            <h1> test app </h1>\n          </div>\n        </header>\n        <section>\n          <div className=\"row\">\n            <main className=\"col-md-12 col-lg-12 \">\n\n              {\n                this.state.show ? null :\n                  <ImageList\n                    imagesArray={this.state.images}\n                    handleGetIdImage={this.handleGetIdImage}\n                    Show={this.handleShow}\n                  />\n              }\n\n              {\n                this.state.show ?\n                  <ImageForm\n                    show={this.state.show}\n                    offHide={this.handleShow}\n                    bigImagesUrl={this.state.bigImages.url}\n                    info={this.state.info}\n                    name={this.state.name}\n                    comments={this.state.comments}\n                    ChangeComments={this.handleChangeComments}\n                    ChangeName={this.handleChangeName}\n                    SendComments={this.handleSendComments}\n                  />\n                  : null\n              }\n\n            </main>\n          </div>\n        </section>\n        <footer className='footer mt-auto py-6 bg-white text-dark text-center'>\n          <div className='container'>\n            <hr />\n            <p>© 2019-2020</p>\n          </div>\n        </footer>\n        {/* </BrowserRouter> */}\n      </div>\n      \n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render((\n\n    <App />\n\n), document.getElementById('root'));\n\n\n"],"sourceRoot":""}